<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>shot the shit~</title>
  <script>
    document.addEventListener('click', (e) => {
      // åˆ›å»ºç•ªèŒ„å…ƒç´ 
      const tomato = document.createElement('div');
      // ğŸ…
      tomato.innerHTML = 'ğŸ’©';
      Object.assign(tomato.style, {
        position: 'absolute',
        left: `${e.pageX - 15}px`,
        top: `${e.pageY - 15}px`,
        fontSize: '30px',
        transition: 'transform 0.2s',
        pointerEvents: 'none'
      });

      // åˆå§‹çŠ¶æ€
      document.body.appendChild(tomato);
      let rotation = 0;
      let velocity = 0;
      const startY = e.pageY;

      //æ’­æ”¾éŸ³é¢‘
      const audio = new Audio('./music/shit.mp3');
      // ç›‘å¬ canplay äº‹ä»¶ï¼Œç¡®ä¿éŸ³é¢‘åŠ è½½å®Œæˆåæ’­æ”¾
      audio.addEventListener('canplay', () => {
        audio.play()
          .then(() => console.log('éŸ³é¢‘å¼€å§‹æ’­æ”¾'))
          .catch(error => console.error('æ’­æ”¾å¤±è´¥:', error));
      });


      // åŠ¨ç”»é€»è¾‘
      const animate = () => {
        velocity += 0.03; // é‡åŠ›åŠ é€Ÿåº¦
        rotation += 5; // æ—‹è½¬é€Ÿåº¦
        const currentY = parseFloat(tomato.style.top) + velocity;

        tomato.style.transform = `rotate(${rotation}deg)`;
        tomato.style.top = `${currentY}px`;

        // ç»“æŸæ¡ä»¶ï¼šè¶…è¿‡å è½è·ç¦»æˆ–é¡µé¢åº•éƒ¨
        if (currentY < startY + 300 && currentY < window.innerHeight - 50) {
          requestAnimationFrame(animate);
        } else {
          // æ›¿æ¢ä¸ºç ´ç¢ç•ªèŒ„å›¾ç‰‡
          tomato.innerHTML = '<img src="./images/shited.png" alt="baga" style="width:40px;height:40px">';
        }
      };

      requestAnimationFrame(animate);
    });

    // å›¾ç‰‡é¢„åŠ è½½
    const img = new Image();
    img.src = 'broken_tomato.png';
  </script>

  <style>
    body{
      background-image: url("./images/wl.png");
    }
  </style>
</head>
<body>

</body>
</html>
